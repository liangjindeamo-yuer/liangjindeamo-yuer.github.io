---
layout: archive
title: "Publications"
permalink: /publications/
author_profile: true
---

{% if site.author.googlescholar %}
  <div class="wordwrap">You can also find my articles on <a href="{{site.author.googlescholar}}">my Google Scholar profile</a>.</div>
{% endif %}

{% include base_path %}



<style>
  .pub-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    align-items: center;
    margin-bottom: 1.5rem;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  .pub-controls label {
    font-weight: 600;
    margin-right: 0.5rem;
  }

  .pub-controls select {
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    border: 1px solid #ccc;
  }

  .pub-summary {
    font-size: 0.9rem;
    color: #555;
  }

  .pub-list {
    counter-reset: pub-counter;
    margin-left: 1.5rem;
  }

  .pub-item {
    margin-bottom: 1rem;
  }

  .pub-title {
    font-weight: 600;
  }

  .pub-authors {
    font-size: 0.95rem;
    margin-top: 0.15rem;
  }

  .pub-venue-date {
    font-size: 0.9rem;
    color: #555;
    margin-top: 0.15rem;
  }

  .pub-links {
    font-size: 0.9rem;
    margin-top: 0.25rem;
  }

  .pub-links a {
    margin-right: 0.75rem;
    text-decoration: none;
  }

  .pub-links a:hover {
    text-decoration: underline;
  }

  .pub-citation {
    margin-top: 0.35rem;
    font-size: 0.85rem;
    color: #444;
  }

  .pub-citation-toggle {
    cursor: pointer;
    text-decoration: underline;
  }

  @media (max-width: 600px) {
    .pub-controls {
      flex-direction: column;
      align-items: flex-start;
    }
  }
   .pub-item {
    margin-bottom: 1.2rem;
    padding-bottom: 0.8rem;
    border-bottom: 1px solid #eee;
  }

  .pub-title {
    font-weight: 600;
  }

  .pub-authors {
    font-size: 0.95rem;
    margin-top: 0.15rem;
  }

  .pub-venue-date {
    font-size: 0.9rem;
    color: #555;
    margin-top: 0.15rem;
  }

  .pub-excerpt {
    display: block;
    margin-top: 0.35rem;
    font-size: 0.9rem;
    color: #444;
  }

  /* 新增：底部按钮行 */
  .pub-footer {
    margin-top: 0.5rem;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: 0.5rem;
  }

  .pub-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .pub-btn {
    display: inline-block;
    padding: 0.2rem 0.75rem;
    border-radius: 999px;
    border: 1px solid #ccc;
    font-size: 0.85rem;
    line-height: 1.4;
    text-decoration: none;
    color: #333;
    background: #f8f8f8;
  }

  .pub-btn:hover {
    background: #eaeaea;
  }

  .pub-btn-primary {
    border-color: #007bff;
    background: #007bff;
    color: #fff;
  }

  .pub-btn-primary:hover {
    background: #0069d9;
  }

  .pub-citation-toggle {
    cursor: pointer;
    text-decoration: underline;
    font-size: 0.85rem;
    color: #555;
  }

  .pub-citation {
    margin-top: 0.35rem;
    font-size: 0.85rem;
    color: #444;
  }
</style>

<div class="pub-controls">
  <div>
    <label for="categoryFilter">Category:</label>
    <select id="categoryFilter">
      <option value="all">All categories</option>
      {%- for pair in site.publication_category -%}
        {%- assign key = pair[0] -%}
        {%- assign obj = pair[1] -%}
        <option value="{{ key | downcase | strip }}">
          {{ obj.title }}
        </option>
      {%- endfor -%}
      <!-- {% assign categories = site.publications | map: "category" | uniq | sort %}
      {% for cat in categories %}
        {% if cat %}
        <option value="{{ cat | downcase | strip  }}">{{ cat }}</option>
        {% endif %}
      {% endfor %} -->
    </select>
  </div>

  <div>
    <label for="typeFilter">Type:</label>
    <select id="typeFilter">
      <option value="all">All types</option>
      {%- assign type_groups = "Conference,Journal,Other" | split: "," -%}
      {%- for g in type_groups -%}
        <option value="{{ g | downcase | strip }}">{{ g }}</option>
      {%- endfor -%}
    </select>
  </div>

  <div class="pub-summary">
    <!-- 统计信息，JS 会自动填充 -->
    <span id="pubCountVisible"></span> / <span id="pubCountTotal"></span> publications
  </div>
</div>




<ol id="pubList" class="pub-list">
  {% assign pubs = site.publications | sort: "date" | reverse %}
  {% for pub in pubs %}

  {%- assign raw_type = pub.type | downcase | strip -%}
  {%- assign type_group = site.publication_type[raw_type] | default: 'Other' -%}


  <li class="pub-item"
    data-category="{{ pub.category | default: 'others' | downcase | strip }}"
    data-type="{{ type_group | default: pub.type | downcase | strip }}">

  <!-- 标题 -->
  <div class="pub-title">
    {{ pub.title }}
  </div>

  <!-- 作者 -->
  <div class="pub-authors">
    {{ pub.author }}
  </div>

  <!-- 期刊/会议 + 年份（只显示年份） -->
  <div class="pub-venue-date">
    {% if pub.venue %}{{ pub.venue }}{% endif %}
    {% if pub.date %} · {{ pub.date | date: "%Y" }}{% endif %}
  </div>

  <!-- 摘要 -->
  {% if pub.excerpt %}
  <span class="pub-excerpt">
    {{ pub.excerpt }}
  </span>
  {% endif %}

  {%- assign slide_url = pub.slideurl | default: pub.slidesurl -%}
  {%- assign code_url  = pub.codeurl  | default: pub.github | default: pub.repo -%}

  <!-- 最后一排：按钮 + citation 开关 -->
  <div class="pub-footer">
    <div class="pub-buttons">
      {% if pub.paperurl %}
        <a href="{{ pub.paperurl }}" target="_blank" rel="noopener"
           class="pub-btn pub-btn-primary">Paper</a>
      {% endif %}

      {% if slide_url %}
        <a href="{{ slide_url }}" target="_blank" rel="noopener"
           class="pub-btn">Slides</a>
      {% endif %}

      {% if code_url %}
        <a href="{{ code_url }}" target="_blank" rel="noopener"
           class="pub-btn">Code</a>
      {% endif %}
    </div>

    {% if pub.citation %}
      <span class="pub-citation-toggle">Show citation</span>
    {% endif %}
  </div>

  <!-- citation 内容（可展开/收起） -->
  {% if pub.citation %}
  <div class="pub-citation" style="display: none;">
    {{ pub.citation }}
  </div>
  {% endif %}
</li>

  {% endfor %}
</ol>



<!-- <ol id="pubList" class="pub-list">
  {% assign pubs = site.publications | sort: "date" | reverse %}
  {% for pub in pubs %}
  <li class="pub-item"
      data-category="{{ pub.category | downcase }}"
      data-type="{{ pub.type | downcase }}">
    <div class="pub-title">
      {{ pub.title }}
    </div>
    <div class="pub-authors">
      {{ pub.author }}
    </div>
    <div class="pub-venue-date">
      {% if pub.venue %}{{ pub.venue }}{% endif %}
      {% if pub.date %} · {{ pub.date | date: "%Y-%m-%d" }}{% endif %}
    </div>
    <div class="pub-links">
      {% if pub.paperurl %}
        <a href="{{ pub.paperurl }}" target="_blank" rel="noopener">Paper</a>
      {% endif %}
      {% if pub.excerpt %}
        <span class="pub-excerpt">{{ pub.excerpt }}</span>
      {% endif %}
      {% if pub.citation %}
        <span class="pub-citation-toggle">Show citation</span>
      {% endif %}
    </div>

    {% if pub.citation %}
    <div class="pub-citation" style="display: none;">
      {{ pub.citation }}
    </div>
    {% endif %}
  </li>
  {% endfor %}
</ol> -->


<script src="{{ '/assets/js/publications-filter.js' | relative_url }}"></script>


<!-- <script>
console.log('[pub-filter] script executed');

const categoryFilter = document.getElementById('categoryFilter');
const typeFilter = document.getElementById('typeFilter');
const pubList = document.getElementById('pubList');

console.log('[pub-filter] elements:', {
  categoryFilter,
  typeFilter,
  pubList
});

if (!categoryFilter || !typeFilter || !pubList) {
  console.warn('[pub-filter] some elements not found, abort.');
} 
else {
  const items = Array.prototype.slice.call(
    pubList.querySelectorAll('.pub-item')
  );
  const countVisibleSpan = document.getElementById('pubCountVisible');
  const countTotalSpan = document.getElementById('pubCountTotal');

  if (countTotalSpan) countTotalSpan.textContent = items.length.toString();

  function updateFilter() {
    const cat = categoryFilter.value.trim().toLowerCase();
    const type = typeFilter.value.trim().toLowerCase();
    console.log('[pub-filter] updateFilter', { cat, type });

    let visibleCount = 0;

    items.forEach(function (item) {
      const itemCat = (item.dataset.category || '').trim().toLowerCase();
      const itemType = (item.dataset.type || '').trim().toLowerCase();

      const matchCat = (cat === 'all') || (itemCat === cat);
      const matchType = (type === 'all') || (itemType === type);

      if (matchCat && matchType) {
        item.style.display = '';
        visibleCount += 1;
      } else {
        item.style.display = 'none';
      }
    });

    if (countVisibleSpan) countVisibleSpan.textContent = visibleCount.toString();
  }

  categoryFilter.addEventListener('change', function () {
    console.log('[pub-filter] category changed to', this.value);
    updateFilter();
  });

  typeFilter.addEventListener('change', function () {
    console.log('[pub-filter] type changed to', this.value);
    updateFilter();
  });

  // 展开/收起 citation
  pubList.addEventListener('click', function (e) {
    if (e.target && e.target.classList.contains('pub-citation-toggle')) {
      const toggle = e.target;
      const citationDiv = toggle.closest('.pub-item').querySelector('.pub-citation');
      if (!citationDiv) return;
      if (citationDiv.style.display === 'none' || citationDiv.style.display === '') {
        citationDiv.style.display = 'block';
        toggle.textContent = 'Hide citation';
      } else {
        citationDiv.style.display = 'none';
        toggle.textContent = 'Show citation';
      }
    }
  });

  // 初始化一次
  updateFilter();
}
</script> -->

